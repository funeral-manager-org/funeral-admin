{% extends "layouts/page.html" %}

{% block content %}

<section id="main-content">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">Plan Cover Details</h3>
        </div>

        <div class="card-body">
            <!-- Tab navigation -->
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="details-tab" data-toggle="tab" href="#details" role="tab" aria-controls="details" aria-selected="true">Details</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="edit-tab" data-toggle="tab" href="#edit" role="tab" aria-controls="edit" aria-selected="false">Edit</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="clients-tab" data-toggle="tab" href="#clients" role="tab" aria-controls="clients" aria-selected="false">Subscribed Clients</a>
                </li>
            </ul>

            <!-- Tab content -->
            <div class="tab-content" id="myTabContent">
                <!-- Details tab -->
                <div class="tab-pane fade show active" id="details" role="tabpanel" aria-labelledby="details-tab">
                    <div class="card-body">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">{{ plan_cover.plan_name }}</h3>
                            </div>

                            <ol class="m-t-10 font-weight-bold col-lg-6 col-md-6">
                                <li>Plan Number: <span class="text-info pull-right">{{ plan_cover.plan_number }}</span></li>
                                <li>Plan Type: <span class="text-info pull-right">{{ plan_cover.plan_type }}</span></li>
                                <li>Benefits
                                    <ul class="list-inline pull-right">
                                        {% for benefit in plan_cover.benefits.split(',') %}
                                            <li class="list-inline-item text-success">{{ benefit.strip() }}</li>,
                                        {% endfor %}
                                    </ul>
                                </li>

                                <li>Coverage Amount: <span class="text-info pull-right">R {{ plan_cover.coverage_amount | number }}.00</span></li>
                                <li>Premium Costs: <span class="text-info pull-right">R {{ plan_cover.premium_costs | number }}.00</span></li>
                                <li>Additional Details: <span class="text-info pull-right">{{ plan_cover.additional_details }}</span></li>
                                <li>Terms and Conditions:
                                    <textarea class="form-control" disabled>
                                        {{ plan_cover.terms_and_conditions }}
                                    </textarea>
                                </li>
                                <li>Inclusions:
                                    <ul class="list-inline pull-right">
                                        {% for inclusion in plan_cover.inclusions.split(',') %}
                                            <li class="list-inline-item text-success"> {{ inclusion.strip() }}, </li>
                                        {% endfor %}
                                    </ul>
                                </li>
                                <li>Exclusions:
                                    <ul class="list-inline pull-right">
                                        {% for exclusion in  plan_cover.exclusions %}
                                            <li class="list-inline-item text-success"> {{ exclusion.strip() }}, </li>
                                        {% endfor %}
                                    </ul>
                                </li>

                                <li>Contact Information: <span class="text-info pull-right">{{ plan_cover.contact_information }}</span></li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- Edit tab -->
                <div class="tab-pane fade" id="edit" role="tabpanel" aria-labelledby="edit-tab">
                    <div class="card-body">
                        <!-- Form for editing goes here -->
                        <!-- Assuming you have a form with fields to edit the plan cover details -->
                        <!-- You'll need to handle the form submission and update the details -->
                    </div>
                </div>

                <!-- Subscribed clients tab -->
                <div class="tab-pane fade" id="clients" role="tabpanel" aria-labelledby="clients-tab">
                    <div class="card-body">
                        <!-- Display subscribed clients here -->
                        <!-- Assuming you have a list of subscribed clients -->
                        {% for client in subscribed_clients %}
                            <p>{{ client.name }}, {{ client.email }}</p>
                            <!-- Add other client details as needed -->
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

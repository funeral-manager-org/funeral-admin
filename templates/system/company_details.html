{% extends "layouts/page.html" %}

{% block content %}

<section id="main-content">
  <div class="card">
    <div class="card-header">
      <h2 class="card-title font-weight-bold text-info">Company Details</h2>


    </div>

        <div class="card-body">
          <table class="table table-striped">
            <tbody>
              <tr>
                <th class="font-weight-bold">Company Name</th>
                <td>{{ company_data.company_name }}</td>
              </tr>
              <tr>
                <th class="font-weight-bold">Company Description</th>
                <td>{{ company_data.company_description }}</td>
              </tr>
              <tr>
                <th class="font-weight-bold">Company Slogan</th>
                <td>{{ company_data.company_slogan }}</td>
              </tr>
              <tr>
                <th class="font-weight-bold">Registration Number</th>
                <td>{{ company_data.reg_ck }}</td>
              </tr>
              <tr>
                <th class="font-weight-bold">VAT Number</th>
                <td>{{ company_data.vat_number }}</td>
              </tr>
              <tr>
                <th class="font-weight-bold">Date Registered</th>
                <td>{{ company_data.date_registered }}</td>
              </tr>
              <tr>
                <th class="font-weight-bold">Total Users</th>
                <td>{{ company_data.total_users }}</td>
              </tr>
              <tr>
                <th class="font-weight-bold">Total Clients</th>
                <td>{{ company_data.total_clients }}</td>
              </tr>
            </tbody>
          </table>
          <hr/>
          <h2 class="card-title font-weight-bold text-info">Company Branches</h2>
          {% if branches %}
            <div class="accordion" id="branchAccordion">
              {% for branch_id, branch_details in branches.items() %}
                <div class="card">
                  <div class="card-header" id="heading{{ branch_id }}">
                    <h5 class="mb-0">
                      <button class="btn btn-link font-weight-bold" type="button" data-toggle="collapse" data-target="#collapse{{ branch_id }}" aria-expanded="true" aria-controls="collapse{{ branch_id }}">
                        Branch Name: {{ branch_details.branch.branch_name }}
                      </button>
                    </h5>
                  </div>
                  <div id="collapse{{ branch_id }}" class="collapse" aria-labelledby="heading{{ branch_id }}" data-parent="#branchAccordion">
                    <div class="card-body">
                      <ul class="list-group">
                        <li class="list-group-item">Description: {{ branch_details.branch.branch_description }}</li>
                        <li class="list-group-item">Total Clients: {{ branch_details.branch.total_clients }}</li>
                        <li class="list-group-item">Total Employees: {{ branch_details.branch.total_employees }}</li>
                      </ul>
                      {% if branch_details.contact %}
                        <h5 class="mt-3">Contact Information</h5>
                        <ul class="list-group">
                          <li class="list-group-item">Email: {{ branch_details.contact.email }}</li>
                          <li class="list-group-item">Cell Phone: {{ branch_details.contact.cell }}</li>
                          {% if branch_details.contact.tel %}
                            <li class="list-group-item">Telephone: {{ branch_details.contact.tel }}</li>
                          {% endif %}
                        </ul>
                      {% endif %}
                      {% if branch_details.postal_address %}
                        <h5 class="mt-3">Postal Address</h5>
                        <ul class="list-group">
                          <li class="list-group-item">{{ branch_details.postal_address.address_line_1 }}</li>
                          <li class="list-group-item">{{ branch_details.postal_address.town_city }}, {{ branch_details.postal_address.province }}</li>
                          <li class="list-group-item">{{ branch_details.postal_address.postal_code }}, {{ branch_details.postal_address.country }}</li>
                        </ul>
                      {% endif %}
                      {% if branch_details.physical_address %}
                        <h5 class="mt-3">Physical Address</h5>
                        <ul class="list-group">
                          <li class="list-group-item">{{ branch_details.physical_address.street }}</li>
                          <li class="list-group-item">{{ branch_details.physical_address.city }}, {{ branch_details.physical_address.state_province }}</li>
                          <li class="list-group-item">{{ branch_details.physical_address.postal_code }}, {{ branch_details.physical_address.country }}</li>
                        </ul>
                      {% endif %}
                      {% if branch_details.bank_account %}
                        <h5 class="mt-3">Bank Account Details</h5>
                        <ul class="list-group">
                          <li class="list-group-item">Account Holder: {{ branch_details.bank_account.account_holder }}</li>
                          <li class="list-group-item">Account Number: {{ branch_details.bank_account.account_number }}</li>
                          <li class="list-group-item">Bank Name: {{ branch_details.bank_account.bank_name }}</li>
                          <li class="list-group-item">Branch: {{ branch_details.bank_account.branch }}</li>
                          <li class="list-group-item">Account Type: {{ branch_details.bank_account.account_type }}</li>
                        </ul>
                      {% endif %}
                    </div>
                  </div>
                </div>
              {% endfor %}
            </div>
          {% else %}
            <p>This company has no branches.</p>
          {% endif %}
        </div>

        <div class="card-footer">
            <a class="btn btn-primary btn-rounded text-white font-weight-bold" href="{{ url_for('system.get_companies') }}">
                <i class="fa fa-folder"> </i>
                Companies
            </a>

            <a class="btn btn-default btn-rounded text-white font-weight-bold pull-right" href="#">
                <i class="fa fa-envelope"> </i>
                Send Email
            </a>
            <a class="btn btn-default btn-rounded text-white font-weight-bold pull-right" href="#">
                <i class="fa fa-shopping-basket"> </i>
                Subscriptions
            </a>
            <a class="btn btn-default btn-rounded text-white font-weight-bold pull-right" href="#">
                <i class="fa fa-line-chart"> </i>
                Statistics
            </a>

        </div>

  </div>
</section>

{% endblock %}

{% extends "layouts/page.html" %}
{% block content %}
    <section id="main-content">
        <div class="container mt-4">
            <!-- Claims Table Card -->
            <div class="card shadow-lg border-info mb-4">
                <div class="card-header bg-facebook">
                    <h3 class="card-title text-white">
                        <i class="fa fa-clipboard-list"></i>
                        logged Claims
                    </h3>
                </div>
                <div class="card-body">
                    <form id="claims-form" action="#" method="GET">
                        <table class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>Select</th>
                                    <th>Claim Number</th>
                                    <th>Policy Number</th>
                                    <th>Claimant Name</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for claim in claims %}
                                    <tr>
                                        <td>
                                            <input type="radio" name="claim_number" value="{{ claim.claim_number }}" data-policy="{{ claim.policy_number }}" required>
                                        </td>
                                        <td>{{ claim.claim_number }}</td>
                                        <td>{{ claim.policy_number }}</td>
                                        <td>{{ claim.claimant_name }}</td>
                                        <td>{{ claim.status }}</td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                        <div class="form-group">
                            <button type="submit" class="btn btn-block btn-outline-info btn-rounded">
                                View Selected Claim Status
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Claim Status Card -->
            {% if claim_status %}
                <div class="card shadow-lg border-info mb-4">
                    <div class="card-header bg-facebook">
                        <h3 class="card-title text-white">
                            <i class="fa fa-info-circle"></i>
                            Claim Status
                        </h3>
                    </div>
                    <div class="card-body">
                        <h4>Claim Number: {{ claim_status.claim_number }}</h4>
                        <p><strong>Policy Number:</strong> {{ claim_status.policy_number }}</p>
                        <p><strong>Claimant Name:</strong> {{ claim_status.claimant_name }}</p>
                        <p><strong>Status:</strong> {{ claim_status.status }}</p>
                        <p><strong>Details:</strong> {{ claim_status.details }}</p>
                        <!-- Add more fields as needed -->
                    </div>
                </div>
            {% endif %}
        </div>
    </section>
{% endblock %}

{% extends "layouts/page.html" %}

{% block content %}

    <section id="main-content">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title font-weight-bold text-info">
                    <i class="fa fa-users"> </i>
                    Clients Admin
                </h2>
            </div>
            <div class="card-body">
                <!-- Tab navigation -->
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="clients-tab" data-toggle="tab" href="#clients" role="tab" aria-controls="clients" aria-selected="true">
                            <span class="font-weight-bold text-info">
                                <i class="fa fa-users"> </i>
                                Clients
                            </span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="capture-tab" data-toggle="tab" href="#capture" role="tab" aria-controls="capture" aria-selected="false">
                            <span class="font-weight-bold text-info">
                                <i class="fa fa-file-text"> </i>
                                Client Capture
                            </span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="premiums-tab" data-toggle="tab" href="#premiums" role="tab" aria-controls="premiums" aria-selected="false">
                            <span class="font-weight-bold text-info">
                                <i class="fa fa-credit-card"> </i>
                                Upcoming Premiums
                            </span>
                        </a>
                    </li>
                </ul>

                <!-- Tab content -->
                <div class="tab-content" id="myTabContent">
                    <!-- Clients tab -->
                    <div class="tab-pane fade show active" id="clients" role="tabpanel" aria-labelledby="clients-tab">
                        <div class="card-body">
                            <!-- Content for clients tab goes here -->
                            <div class="card-header">
                                <h3 class="font-weight-bold card-title">
                                    <i class="fa fa-users"> </i>
                                    Clients - Policy Holders
                                </h3>
                            </div>

                            <table class="table table-striped table-bordered">
                                <thead class="font-weight-bold text-info">
                                    <tr>
                                        <td>Full Names</td>
                                        <td>Surname</td>
                                        <td>ID Number</td>
                                        <td>Date of Birth</td>
                                        <td>Nationality</td>
                                        <td>Plan Number</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for policy_holder in policy_holders_list %}
                                        <tr>
                                            <td class="font-weight-bold text-info">
                                                <a href="{{ url_for('clients.get_client', uid=policy_holder.uid) }}">
                                                    {{ policy_holder.title }} {{ policy_holder.full_names }}
                                                </a>
                                            </td>
                                            <td>{{ policy_holder.surname }}</td>
                                            <td>{{ policy_holder.id_number }}</td>
                                            <td>{{ policy_holder.date_of_birth }}</td>
                                            <td>{{ policy_holder.nationality }}</td>
                                            <td>{{ policy_holder.plan_number or "N/A" }}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="capture" role="tabpanel" aria-labelledby="capture-tab">
                        <div class="card-body">
                            <!-- Client capture form -->
                            <div class="card-header">
                                <h3 class="font-weight-bold card-title">
                                    <i class="fa fa-file-text"> </i>
                                    Client Capture
                                </h3>
                            </div>
                            <div class="card-body m-t-10">
                                {% include 'admin/clients/forms/client_capture.html' %}
                            </div>
                        </div>
                    </div>
                    <!-- Upcoming premiums tab -->
                    <div class="tab-pane fade" id="premiums" role="tabpanel" aria-labelledby="premiums-tab">
                        <div class="card-body">
                            <!-- Content for upcoming premiums tab goes here -->
                            <div class="card-header">
                                <h3 class="font-weight-bold card-title">
                                    <i class="fa fa-credit-card"> </i>
                                    Upcoming Premiums
                                </h3>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock %}
